diff -Naur libwebsockets-3.1.0/include/libwebsockets.h libwebsockets-3.1.0-patched/include/libwebsockets.h
--- libwebsockets-3.1.0/include/libwebsockets.h	2018-11-23 03:30:56.000000000 +0000
+++ libwebsockets-3.1.0-patched/include/libwebsockets.h	2019-06-16 07:09:09.293136102 +0100
@@ -100,7 +100,7 @@
 #include <sys/capability.h>
 #endif
 
-#if defined(__NetBSD__) || defined(__FreeBSD__) || defined(__QNX__) || defined(__OpenBSD__)
+#if defined(__NetBSD__) || defined(__FreeBSD__) || defined(__QNX__) || defined(__OpenBSD__) || defined(__SWITCH__)
 #include <sys/socket.h>
 #include <netinet/in.h>
 #endif
diff -Naur libwebsockets-3.1.0/lib/plat/unix/private.h libwebsockets-3.1.0-patched/lib/plat/unix/private.h
--- libwebsockets-3.1.0/lib/plat/unix/private.h	2018-11-23 03:30:56.000000000 +0000
+++ libwebsockets-3.1.0-patched/lib/plat/unix/private.h	2019-06-16 07:08:04.709645834 +0100
@@ -41,8 +41,10 @@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <sys/time.h>
+#if !defined(__SWITCH__)
 #include <sys/mman.h>
 #include <sys/un.h>
+#endif
 
 #if defined(__APPLE__)
 #include <machine/endian.h>
@@ -102,15 +104,18 @@
 #if defined(__HAIKU__)
 #define _BSD_SOURCE
 #endif
+#if !defined(__SWITCH__)
 #include <ifaddrs.h>
-
+#endif
 #endif
 
+#if !defined(__SWITCH__)
 #if defined (__sun) || defined(__HAIKU__) || defined(__QNX__)
 #include <syslog.h>
 #else
 #include <sys/syslog.h>
 #endif
+#endif
 
 #ifdef __QNX__
 # include "netinet/tcp_var.h"
diff -Naur libwebsockets-3.1.0/lib/plat/unix/unix-misc.c libwebsockets-3.1.0-patched/lib/plat/unix/unix-misc.c
--- libwebsockets-3.1.0/lib/plat/unix/unix-misc.c	2018-11-23 03:30:56.000000000 +0000
+++ libwebsockets-3.1.0-patched/lib/plat/unix/unix-misc.c	2019-06-16 07:10:30.743334483 +0100
@@ -40,6 +40,7 @@
 
 LWS_VISIBLE void lwsl_emit_syslog(int level, const char *line)
 {
+#ifndef __SWITCH__
 	int syslog_level = LOG_DEBUG;
 
 	switch (level) {
@@ -57,6 +58,7 @@
 		break;
 	}
 	syslog(syslog_level, "%s", line);
+#endif
 }
 
 
diff -Naur libwebsockets-3.1.0/lib/plat/unix/unix-sockets.c libwebsockets-3.1.0-patched/lib/plat/unix/unix-sockets.c
--- libwebsockets-3.1.0/lib/plat/unix/unix-sockets.c	2018-11-23 03:30:56.000000000 +0000
+++ libwebsockets-3.1.0-patched/lib/plat/unix/unix-sockets.c	2019-06-16 07:14:27.093912911 +0100
@@ -21,7 +21,6 @@
 
 #define _GNU_SOURCE
 #include "core/private.h"
-
 #include <pwd.h>
 #include <grp.h>
 
@@ -77,7 +76,8 @@
     defined(__FreeBSD__) || defined(__FreeBSD_kernel__) || \
     defined(__NetBSD__) || \
     defined(__OpenBSD__) || \
-    defined(__HAIKU__)
+    defined(__HAIKU__) || \
+    defined(__SWITCH__)
 	struct protoent *tcp_proto;
 #endif
 
@@ -94,7 +94,7 @@
     defined(__FreeBSD__) || defined(__FreeBSD_kernel__) || \
     defined(__NetBSD__) || \
     defined(__CYGWIN__) || defined(__OpenBSD__) || defined (__sun) || \
-    defined(__HAIKU__)
+    defined(__HAIKU__) || defined(__SWITCH__)
 
 		/*
 		 * didn't find a way to set these per-socket, need to
@@ -147,7 +147,8 @@
       !defined(__FreeBSD__) && !defined(__FreeBSD_kernel__) &&        \
       !defined(__NetBSD__) && \
       !defined(__OpenBSD__) && \
-      !defined(__HAIKU__)
+      !defined(__HAIKU__) && \
+      !defined(__SWITCH__)
 	if (!unix_skt && setsockopt(fd, SOL_TCP, TCP_NODELAY, (const void *)&optval, optlen) < 0)
 		return 1;
 #else
@@ -163,6 +164,14 @@
 	return 0;
 }
 
+#ifdef __SWITCH__
+int
+lws_interface_to_sa(int ipv6, const char *ifname, struct sockaddr_in *addr,
+                    size_t addrlen)
+{
+	return 1;
+}
+#else
 
 /* cast a struct sockaddr_in6 * into addr for ipv6 */
 
@@ -243,7 +252,7 @@
 
 	return rc;
 }
-
+#endif
 
 const char *
 lws_plat_inet_ntop(int af, const void *src, char *dst, int cnt)
